### 一、浏览器工作原理 

1. 输入域名，渲染过程：
   - DNS解析：
     * 过程：查找浏览器缓存 -> 查找操作系统缓存 -> 查找hosts文件是否有对应映射 ->  本地域名服务器查找 -> 顶级域名服务器查找 (引导去二级域名服务器查找) -> 二级域名服务器查找(引导去三级域名服务器查找) -> 三级域名服务器查找(引导去下级服务器查找) -> 继续往下级查找直至返回映射关系
     * 递归：前三步查找时，有则直接返回映射关系，否则去其他域名服务器查找
     * 迭代：后续去顶级域名服务器等查找，如果能查找到则直接返回映射关系，否则告诉其去下级域名服务器查找或报错
   - 发送HTTP请求
   - 浏览器渲染：
     * 构建DOM Tree
     * 生成CSS Rule Tree
     * DOM Tree 和 CSS Rule Tree并行构建，互不影响，最终结合生成Render Tree(当CSS树未构建完成时会阻塞DOM树的构建)
     * 遇到 `JS` 脚本时，由于`  JS` 可能会对DOM或者样式进行操作，因此`JS` 脚本会被阻塞直到CSS树构建完成
     * `JS` 执行时会阻止 `Render Tree` 的构建，因为JS引擎和GUI引擎是互斥的
2. JavaScript引擎：
   - 通过词法分析（扫描器 `scanner` ）将 `JS` 代码转化为 `tokens` 
     - 利用 `parse` 模块将 `tokens` 代码转换为 `AST树 `（进行词法分析和语法分析），未使用的函数进行 `preParse(预解析)` 
   - 利用 `ignition` 模块将 `AST树` 转换为 `字节码`
   - 由于不同环境下CPU的构造不同，对应的机器码也不同，因此不能直接转换为机器码
   - 为了提高效率， 利用 `TurboFan` 模块对字节码进行转换，并标记函数是否为 `hot` (重复使用的函数，便于缓存)，使其更接近与对应环境的字节码
   - 将优化后的字节码转换为机器码并由CPU执行
3. ​

